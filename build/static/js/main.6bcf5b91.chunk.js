(this.webpackJsonpcodesync=this.webpackJsonpcodesync||[]).push([[0],{53:function(e,t,n){},90:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(3),o=n.n(c),a=n(54),r=n.n(a),s=n(9),i=n(32),l=n(12),u=n(13),d=n(23),j=function(){return localStorage.getItem("token")||null},b=function(e,t,n,c){localStorage.setItem("token",e),localStorage.setItem("username",JSON.stringify(t)),localStorage.setItem("name",JSON.stringify(n)),localStorage.setItem("photoURL",JSON.stringify(c))},h=n(7),m=["component","setAuth","setAuthLoading","socket"];var O=function(e){var t=e.component,n=e.setAuth,c=e.setAuthLoading,o=e.socket,a=Object(d.a)(e,m);return Object(h.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return j()?Object(h.jsx)(t,Object(u.a)({setAuth:n,setAuthLoading:c,Socket:o},e)):Object(h.jsx)(l.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},v=["component","setAuth","setAuthLoading","socket"];var f=function(e){var t=e.component,n=e.setAuth,c=e.setAuthLoading,o=e.socket,a=Object(d.a)(e,v);return Object(h.jsx)(l.b,Object(u.a)(Object(u.a)({},a),{},{render:function(e){return j()?Object(h.jsx)(l.a,{to:{pathname:"/"}}):Object(h.jsx)(t,Object(u.a)({setAuth:n,setAuthLoading:c,Socket:o},e))}}))},g=n(37),p=n.n(g),x=n(0),w=n(1),N=n(56),S=n(30),A=Object(N.a)({apiKey:"AIzaSyBquhnb8FEUzjwJywfS8Ifxf6m8LVjl9ag",authDomain:"codesync-ooad.firebaseapp.com",projectId:"codesync-ooad",storageBucket:"codesync-ooad.appspot.com",messagingSenderId:"616748410621",appId:"1:616748410621:web:c99f252643e7971b21c094",measurementId:"G-DB2QH1HJR0"}),k=Object(S.c)(A),y=new S.a;y.addScope("https://www.googleapis.com/auth/userinfo.profile");var L=function(){var e=Object(w.a)(Object(x.a)().mark((function e(){var t,n;return Object(x.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(S.d)(k,S.b);case 3:return e.next=5,Object(S.e)(k,y);case 5:return t=e.sent,n=t.user,e.t0=console,e.t1=n,e.next=11,n.getIdTokenResult(!0);case 11:return e.t2=e.sent,e.t0.log.call(e.t0,e.t1,e.t2),e.abrupt("return",{auth:!0,accessToken:n.accessToken,name:n.displayName,email:n.email,photo:n.photoURL});case 16:return e.prev=16,e.t3=e.catch(0),console.error(e.t3),e.abrupt("return",{auth:!1,accessToken:null,name:null,email:null,photo:null});case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),I=["setAuth","setAuthLoading","Socket"];n(87).config();var C=function(e){var t=e.setAuth,n=e.setAuthLoading,o=(e.Socket,Object(d.a)(e,I)),a=Object(c.useState)(!1),r=Object(s.a)(a,2),i=r[0],l=r[1],u=Object(c.useState)(null),j=Object(s.a)(u,2)[1];Object(c.useEffect)((function(){return function(){}}),[]);var m=Object(c.useCallback)((function(e){n(!e),t(e)}),[t,n]);return i?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"loadclass-new",children:Object(h.jsxs)("div",{className:"spinner-box",children:[Object(h.jsx)("div",{className:"configure-border-1",children:Object(h.jsx)("div",{className:"configure-core"})}),Object(h.jsx)("div",{className:"configure-border-2",children:Object(h.jsx)("div",{className:"configure-core"})})]})})}):Object(h.jsxs)("div",{children:[Object(h.jsx)("h3",{className:"brand-titl",children:"CodeSync"}),Object(h.jsx)("input",{type:"button",value:i?"Loading...":"LOGIN",onClick:function(){j(null),l(!0),L().then((function(e){if(!e.auth)throw new Error("Something went wrong. Please try again later.");delete e.auth,p.a.post("".concat("http://192.168.187.241:8080","/login"),e).then((function(e){var t,n,c,a;l(!1),b(null===(t=e.data)||void 0===t?void 0:t.accessToken,null===(n=e.data)||void 0===n?void 0:n.email,null===(c=e.data)||void 0===c?void 0:c.name,null===(a=e.data)||void 0===a?void 0:a.photo),m(!0),o.history.push("/")})).catch((function(e){var t,n,c;l(!1),console.log(null===(t=e.response)||void 0===t?void 0:t.data),401===(null===(n=e.response)||void 0===n?void 0:n.status)?j(null===(c=e.response)||void 0===c?void 0:c.data.error):j("Something went wrong. Please try again later.")}))})).catch((function(e){var t,n,c;l(!1),console.log(null===(t=e.response)||void 0===t?void 0:t.data),401===(null===(n=e.response)||void 0===n?void 0:n.status)?j(null===(c=e.response)||void 0===c?void 0:c.data.error):j("Something went wrong. Please try again later.")}))},disabled:i})]})};var U=function(){return Object(h.jsx)("div",{children:"Home"})},D=(n(53),["toggleDrawer","auth","setAuth"]);var F=function(e){var t=e.toggleDrawer,n=e.auth;return e.setAuth,Object(d.a)(e,D),Object(h.jsx)(h.Fragment,{children:n&&Object(h.jsxs)("nav",{className:"navbar",children:[Object(h.jsx)("div",{className:"logo",children:"My App"}),Object(h.jsxs)("ul",{className:"nav-links",children:[Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"About"})}),Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",children:"Contact"})}),window.location.pathname.toLowerCase().startsWith("/editor")&&Object(h.jsx)("div",{className:"menu-toggle",onClick:t,children:Object(h.jsx)("i",{className:"fa-solid fa-users-line"})})]})]})})},E=n(57);var T=function(){var e=Object(c.useState)("import Hello\ndef newFunc():\n  for i in l:\n    print(m)\n  if n==4:\n    print('hi')\n  else:\n    print('bye')\n "),t=Object(s.a)(e,2),n=t[0],o=t[1],a=Object(c.useRef)(null),r=Object(c.useState)([]),i=Object(s.a)(r,2),u=i[0],d=i[1],j=Object(c.useRef)([]),b=Object(l.g)();Object(c.useEffect)((function(){return b.location.pathname(),function(){}}),[b.location]),Object(c.useEffect)((function(){if(a.current){var e=a.current,t=e.editor,n=e.monaco;t.deltaDecorations(j.current,[]);var c=m(t,n,u),o=t.deltaDecorations([],c);j.current=o}}),[u]);var m=function(e,t,n){return n.map((function(e,n){return{range:new t.Range(e.lineNumber,e.column,e.lineNumber,e.column+1),options:{inlineClassName:"color-".concat(e.id),hoverMessage:{value:"User: ".concat(e.name)}}}}))},O=Object(c.useCallback)((function(e,t){o(e)}),[]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"editor",children:[Object(h.jsx)("h2",{children:"Code Editor"}),Object(h.jsx)(E.a,{height:"75vh",theme:"vs-dark",language:"python",value:n,options:{fontSize:20,autoFocus:!0},onMount:function(e,t){a.current={editor:e,monaco:t},e.focus(),d([{id:1,name:"User 1",lineNumber:1,column:5,color:"red"},{id:2,name:"User 2",lineNumber:2,column:4,color:"blue"},{id:3,name:"User 3",lineNumber:3,column:4,color:"green"},{id:4,name:"User 4",lineNumber:4,column:4,color:"yellow"},{id:5,name:"User 5",lineNumber:5,column:4,color:"orange"}])},onChange:O})]})})},J=(n(90),["isDrawerOpen"]);var R=function(e){var t=e.isDrawerOpen;return Object(d.a)(e,J),Object(h.jsxs)("div",{className:"drawer ".concat(t?"open":""),children:[Object(h.jsx)("h2",{children:"Active Users"}),Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:"User 1"}),Object(h.jsx)("li",{children:"User 2"}),Object(h.jsx)("li",{children:"User 3"})]})]})};var B=function(){var e=Object(c.useState)(!0),t=Object(s.a)(e,2),n=t[0],o=t[1],a=Object(c.useState)(!1),r=Object(s.a)(a,2),u=r[0],d=r[1],m=Object(c.useState)(!1),v=Object(s.a)(m,2),g=v[0],x=v[1];return Object(c.useEffect)((function(){var e=j();if(e)return p.a.post("".concat("http://192.168.187.241:8080","/verifyToken"),{token:e}).then((function(t){var n,c,a;b(e,null===(n=t.data)||void 0===n?void 0:n.email,null===(c=t.data)||void 0===c?void 0:c.name,null===(a=t.data)||void 0===a?void 0:a.photo),o(!1),d(!0)})).catch((function(e){var t;401===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),localStorage.removeItem("username"),localStorage.removeItem("name")),o(!1),d(!1)})),function(){}}),[]),n&&j()?Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("div",{className:"loadclass-new",children:Object(h.jsxs)("div",{className:"spinner-box",children:[Object(h.jsx)("div",{className:"configure-border-1",children:Object(h.jsx)("div",{className:"configure-core"})}),Object(h.jsx)("div",{className:"configure-border-2",children:Object(h.jsx)("div",{className:"configure-core"})})]})})}):Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(i.a,{children:Object(h.jsxs)("div",{children:[Object(h.jsx)(F,{auth:u,setAuth:d,setAuthLoading:o,toggleDrawer:function(){console.log(!g),x(!g)}}),Object(h.jsx)(R,{isDrawerOpen:g}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)(l.d,{children:[Object(h.jsx)(O,{exact:!0,path:"/",component:U,setAuth:d,setAuthLoading:o}),Object(h.jsx)(f,{exact:!0,path:"/",component:C}),Object(h.jsx)(f,{path:"/login",component:C,setAuth:d,setAuthLoading:o}),Object(h.jsx)(O,{path:"/editor",component:T,setAuth:d,setAuthLoading:o,isDrawerOpen:g})]})})]})})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,92)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),o(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(B,{})}),document.getElementById("root")),H()}},[[91,1,2]]]);
//# sourceMappingURL=main.6bcf5b91.chunk.js.map