{"version":3,"sources":["Utils/Common.js","Utils/PrivateRoute.js","Utils/PublicRoute.js","Utils/AuthProvider.js","Components/Login.js","Components/Home.js","Components/Navbar.js","Components/CodeEditor.js","Components/Sidebar.js","App.js","reportWebVitals.js","index.js"],"names":["getToken","localStorage","getItem","setUserSession","token","user","name","photoURL","setItem","JSON","stringify","PrivateRoute","_ref","Component","component","isLogged","setAuth","isLoading","setAuthLoading","soc","socket","rest","_objectWithoutProperties","_excluded","_jsx","Route","_objectSpread","render","props","Socket","Redirect","to","pathname","state","from","location","PublicRoute","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","getAuth","googleProvider","GoogleAuthProvider","addScope","signInWithGoogle","_asyncToGenerator","_regeneratorRuntime","mark","_callee","result","wrap","_context","prev","next","setPersistence","browserSessionPersistence","signInWithPopup","sent","t0","console","t1","getIdTokenResult","t2","log","call","abrupt","accessToken","displayName","email","photo","t3","error","stop","apply","arguments","require","config","Login","hasAuth","hasAuthLoading","_useState","useState","_useState2","_slicedToArray","loading","setLoading","_useState3","setError","useEffect","useCallback","val","_Fragment","children","className","_jsxs","type","value","onClick","then","Error","axios","post","concat","process","response","_response$data","_response$data2","_response$data3","_response$data4","data","history","push","catch","_error$response","_error$response2","_error$response3","status","_error$response4","_error$response5","_error$response6","disabled","Home","Navbar","toggleDrawer","href","window","toLowerCase","startsWith","CodeEditor","code","setCode","monacoObjects","useRef","_useState4","users","setUsers","decorationIds","useHistory","current","_monacoObjects$curren","editor","monaco","deltaDecorations","decorations","createDecorations","newDecorationIds","map","index","range","Range","lineNumber","column","options","inlineClassName","id","hoverMessage","handleEditorChange","event","Editor","height","theme","language","fontSize","autoFocus","onMount","focus","color","onChange","Sidebar","isDrawerOpen","App","authLoading","_useState5","_useState6","setIsDrawerOpen","removeItem","BrowserRouter","Switch","exact","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","React","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6bcf5b91.chunk.js","sourcesContent":["// return the user data from the session storage\r\nexport const getUser = () => {\r\n  const userStr = localStorage.getItem('name');\r\n  if (userStr) return JSON.parse(userStr);\r\n  else return null;\r\n}\r\n\r\n// return the token from the session storage\r\nexport const getToken = () => {\r\n  return localStorage.getItem('token') || null;\r\n}\r\n\r\n// remove the token and user from the session storage\r\nexport const removeUserSession = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('username');\r\n  localStorage.removeItem('name');\r\n}\r\n\r\n// set the token and user from the session storage\r\nexport const setUserSession = (token, user, name, photoURL) => {\r\n  localStorage.setItem('token', token);\r\n  localStorage.setItem('username', JSON.stringify(user));\r\n  localStorage.setItem('name', JSON.stringify(name));\r\n  localStorage.setItem('photoURL', JSON.stringify(photoURL));\r\n}","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getToken } from './Common';\r\n\r\n// handle the private routes\r\nfunction PrivateRoute({ component: Component, setAuth: isLogged, setAuthLoading: isLoading, socket : soc, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => getToken() ? <Component setAuth={isLogged} setAuthLoading={isLoading} Socket={soc} {...props} /> : <Redirect to={{ pathname: '/login', state: { from: props.location } }} />}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { getToken } from './Common';\r\n\r\n// handle the public routes\r\nfunction PublicRoute({ component: Component, setAuth: isLogged, setAuthLoading: isLoading, socket : soc,  ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={(props) => !getToken() ? <Component setAuth={isLogged} setAuthLoading={isLoading} Socket={soc} {...props} /> : <Redirect to={{ pathname: '/' }} />}\r\n    />\r\n  )\r\n}\r\n\r\nexport default PublicRoute;","import { initializeApp } from \"firebase/app\";\r\nimport {\r\n  GoogleAuthProvider,\r\n  getAuth,\r\n  signInWithPopup,\r\n  signOut,\r\n  setPersistence,\r\n  browserSessionPersistence,\r\n} from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n    apiKey: \"AIzaSyBquhnb8FEUzjwJywfS8Ifxf6m8LVjl9ag\",\r\n    authDomain: \"codesync-ooad.firebaseapp.com\",\r\n    projectId: \"codesync-ooad\",\r\n    storageBucket: \"codesync-ooad.appspot.com\",\r\n    messagingSenderId: \"616748410621\",\r\n    appId: \"1:616748410621:web:c99f252643e7971b21c094\",\r\n    measurementId: \"G-DB2QH1HJR0\"\r\n  };\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth(app);\r\n// const db = getFirestore(app);\r\nconst googleProvider = new GoogleAuthProvider();\r\ngoogleProvider.addScope('https://www.googleapis.com/auth/userinfo.profile');\r\nconst signInWithGoogle = async () => {\r\n\r\n    try {\r\n        await setPersistence(auth, browserSessionPersistence); // set persistence to browser session\r\n        const result = await signInWithPopup(auth, googleProvider); // sign in with Google using popup\r\n        const user = result.user;\r\n        console.log(user, await user.getIdTokenResult(true));\r\n        return { auth: true, accessToken: user.accessToken, name: user.displayName, email: user.email, photo: user.photoURL}\r\n      } catch (error) {\r\n        console.error(error);\r\n        return { auth: false, accessToken: null, name: null, email: null, photo: null}\r\n      }\r\n  \r\n};\r\n\r\n\r\n\r\nconst logout = () => {\r\n  signOut(auth);\r\n};\r\nexport {\r\n  auth,\r\n  signInWithGoogle,\r\n  logout,\r\n};","import React, { useEffect, useState } from 'react';\r\nimport { useCallback } from \"react\";\r\nimport axios from 'axios';\r\nimport { setUserSession } from '../Utils/Common';\r\nimport { signInWithGoogle } from '../Utils/AuthProvider';\r\n// import logo from './.png'\r\nrequire('dotenv').config();\r\n\r\nfunction Login({setAuth: hasAuth, setAuthLoading: hasAuthLoading, Socket: socket, ...props}) {\r\n  const [loading, setLoading] = useState(false);\r\n  const [, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n  \r\n    return () => {\r\n      \r\n    }\r\n  }, [])\r\n  \r\n\r\n  const isLogged = useCallback((val) => {\r\n          hasAuthLoading(!val);\r\n          hasAuth(val);\r\n        },\r\n        [hasAuth,hasAuthLoading],\r\n      );\r\n\r\n  // handle button click of login form\r\n  const handleLogin = () => {   \r\n    setError(null);\r\n    setLoading(true);\r\n    signInWithGoogle().then((user) => {\r\n      if (!user.auth) {\r\n        throw new Error(\"Something went wrong. Please try again later.\");\r\n      }\r\n      delete user.auth;\r\n    axios.post(`${process.env.REACT_APP_HOST}/login`, user ).then(response => {\r\n      setLoading(false);\r\n      setUserSession(response.data?.accessToken, response.data?.email, response.data?.name, response.data?.photo);\r\n      isLogged(true)\r\n      props.history.push('/');\r\n    }).catch(error => {\r\n      setLoading(false);\r\n      console.log(error.response?.data)\r\n      if (error.response?.status === 401) setError(error.response?.data.error);\r\n      else setError(\"Something went wrong. Please try again later.\");\r\n    });}).catch(error => {\r\n      setLoading(false);\r\n      console.log(error.response?.data)\r\n      if (error.response?.status === 401) setError(error.response?.data.error);\r\n      else setError(\"Something went wrong. Please try again later.\");\r\n    });\r\n  }\r\n  if (loading) {\r\n// return <div className=\"loadclass\"><span className=\"loader-11\"></span></div>;\r\nreturn <>\r\n<div className=\"loadclass-new\">\r\n  <div className=\"spinner-box\">\r\n<div className=\"configure-border-1\">  \r\n  <div className=\"configure-core\"></div>\r\n</div>  \r\n<div className=\"configure-border-2\">\r\n  <div className=\"configure-core\"></div>\r\n</div> \r\n</div>\r\n</div>\r\n</>;  }\r\n\r\n  return (\r\n    <div>\r\n\r\n\r\n        <h3 className='brand-titl'>CodeSync</h3>\r\n\r\n        {/* <div id=\"firebaseui\"></div> */}\r\n        <input type=\"button\" value={loading ? 'Loading...' : 'LOGIN'} onClick={handleLogin} disabled={loading} />\r\n        \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;","import React from 'react'\r\n\r\nfunction Home() {\r\n  return (\r\n    <div>Home</div>\r\n  )\r\n}\r\n\r\nexport default Home","import React from 'react';\r\nimport '../Styles/main.css';\r\n\r\nfunction Navbar({toggleDrawer, auth , setAuth , ...props}) {\r\n  return (<>\r\n  { auth &&\r\n    <nav className=\"navbar\">\r\n      <div className=\"logo\">My App</div>\r\n      <ul className=\"nav-links\">\r\n        <li><a href=\"/\">Home</a></li>\r\n        <li><a href=\"/\">About</a></li>\r\n        <li><a href=\"/\">Contact</a></li>\r\n      {window.location.pathname.toLowerCase().startsWith('/editor') && <div className=\"menu-toggle\" onClick={toggleDrawer}>\r\n      <i className=\"fa-solid fa-users-line\"></i>\r\n      </div>}\r\n      </ul>\r\n    </nav>\r\n}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Navbar;","import { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport Editor from \"@monaco-editor/react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction CodeEditor() {\r\n  const [code, setCode] = useState(\"import Hello\\ndef newFunc():\\n  for i in l:\\n    print(m)\\n  if n==4:\\n    print('hi')\\n  else:\\n    print('bye')\\n \");\r\n  const monacoObjects = useRef(null);\r\n  const [users, setUsers] = useState([]);\r\n  const decorationIds = useRef([]);\r\n\r\n  let history = useHistory()\r\n\r\n  useEffect(() => {\r\n    \r\n    history.location.pathname()\r\n    return () => {\r\n    \r\n    }\r\n  }, [history.location])\r\n  \r\n\r\n  // create a array of 10 colors with opacity 0.7\r\n  useEffect(() => {\r\n    if (!monacoObjects.current) return;\r\n  \r\n    const { editor,monaco } = monacoObjects.current;\r\n\r\n    // remove all decorations\r\n    editor.deltaDecorations(decorationIds.current, []);\r\n\r\n    // create text decorations  based on user position\r\n    const decorations = createDecorations(editor, monaco, users);\r\n    \r\n    // const selections = users.map((user, index) => {\r\n      //   return {\r\n        //     selectionStartLineNumber: user.lineNumber,\r\n        //     selectionStartColumn: user.column,\r\n        //     positionLineNumber: user.lineNumber,\r\n        //     positionColumn: user.column,\r\n        //     color: user.color\r\n        //   };\r\n        // });\r\n        \r\n        // // Create an array of decorations, one for each selection\r\n        // const decorations = selections.map(selection => ({\r\n          //   range: new monaco.Range(\r\n            //     selection.selectionStartLineNumber,\r\n            //     selection.selectionStartColumn,\r\n            //     selection.positionLineNumber,\r\n            //     selection.positionColumn,\r\n            //   ),\r\n            //   options: {\r\n              //     isWholeLine: false,\r\n              //     inlineClassName: 'custom-selection',\r\n              //     backgroundColor: selection.color,\r\n              //   }\r\n              // }));\r\n              \r\n              // Set the decorations\r\n      const newDecorationIds = editor.deltaDecorations([], decorations);\r\n      decorationIds.current =  newDecorationIds;\r\n      // console.log(newDecorationIds===decorationIds.current);\r\n      // editor.deltaDecorations(decorationIds.current, []);      \r\n      \r\n    }, [users]);\r\n    \r\n    const createDecorations = ( editor,  monaco, users) => {\r\n      const decorations = users.map((user, index) => {\r\n        return {\r\n          range: new monaco.Range(\r\n          // 3, 2, 3, 3\r\n          user.lineNumber,\r\n          user.column,\r\n          user.lineNumber,\r\n          user.column+1,\r\n        ),\r\n        options: {\r\n          inlineClassName: `color-${user.id}`,\r\n          hoverMessage: { value: `User: ${user.name}` \r\n          },\r\n        },\r\n        \r\n      };\r\n    });\r\n    return decorations;\r\n  }\r\n\r\n  const handleEditorDidMount = (editor, monaco) => {\r\n    monacoObjects.current = {\r\n      editor,\r\n      monaco,\r\n    };\r\n    editor.focus();\r\n    // editor.onMouseMove(function (e) {\r\n    //   // remove all existing decorations\r\n    //   // monacoObjects.current.editor.deltaDecorations(monacoObjects.current.editor.getModel().getAllDecorations(), []);\r\n    //   console.log(e);\r\n    //   editor.deltaDecorations(decorationIds.current, []);\r\n    // });\r\n\r\n    setUsers([\r\n      { id: 1, name: \"User 1\", lineNumber: 1, column: 5, color: \"red\" },\r\n      { id: 2, name: \"User 2\", lineNumber: 2, column: 4, color: \"blue\" },\r\n      { id: 3, name: \"User 3\", lineNumber: 3, column: 4, color: \"green\" },\r\n      { id: 4, name: \"User 4\", lineNumber: 4, column: 4, color: \"yellow\" },\r\n      { id: 5, name: \"User 5\", lineNumber: 5, column: 4, color: \"orange\" },\r\n    ]);\r\n  };\r\n\r\n  const handleEditorChange = useCallback((value, event) => {\r\n    setCode(value);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"editor\">\r\n        <h2>Code Editor</h2>\r\n        <Editor\r\n          height=\"75vh\"\r\n          theme=\"vs-dark\"\r\n          language={\"python\"}\r\n          value={code}\r\n          options={{\r\n            fontSize: 20,\r\n            autoFocus: true,\r\n          }}\r\n          onMount={handleEditorDidMount}\r\n          onChange={handleEditorChange}\r\n        />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default CodeEditor;\r\n","import React from 'react';\r\nimport '../Styles/main.css';\r\n\r\nfunction Sidebar({isDrawerOpen, ...props}) {\r\n  return (\r\n    <div className={`drawer ${ isDrawerOpen? \"open\" : \"\"}`}>\r\n      <h2>Active Users</h2>\r\n      <ul>\r\n        <li>User 1</li>\r\n        <li>User 2</li>\r\n        <li>User 3</li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Sidebar;","\r\n// eslint-disable-next-line\r\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\r\nimport  { useEffect, useState} from \"react\";\r\n// import axios from \"axios\";\r\n\r\nimport PrivateRoute from \"./Utils/PrivateRoute\";\r\nimport PublicRoute from \"./Utils/PublicRoute\";\r\n// import { getToken, removeUserSession, setUserSession } from \"./Utils/Common\";\r\nimport Login from \"./Components/Login\";\r\nimport Home from \"./Components/Home\";\r\nimport Navbar from \"./Components/Navbar\";\r\nimport CodeEditor from \"./Components/CodeEditor\";\r\nimport \"./App.css\";\r\nimport Sidebar from \"./Components/Sidebar\";\r\nimport { getToken, removeUserSession, setUserSession } from \"./Utils/Common\";\r\nimport axios from \"axios\";\r\n\r\nfunction App() {\r\n  const [authLoading, setAuthLoading] = useState(true);\r\n  const [auth, setAuth] = useState(false);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n\r\n  const toggleDrawer = () => {\r\n    console.log(!isDrawerOpen)\r\n    setIsDrawerOpen(!isDrawerOpen);\r\n  };\r\n  \r\n  useEffect(() => {\r\n    const token = getToken();\r\n    if (!token) {\r\n      return;\r\n    }\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_HOST}/verifyToken`,{ token:token })\r\n      .then((response) => {\r\n        setUserSession(token, response.data?.email, response.data?.name, response.data?.photo);\r\n        setAuthLoading(false);\r\n        setAuth(true);\r\n        // socket.emit(\"test\",\"hi\");\r\n        // setTimeout(()=>{socket.emit(\"test\",\"1\");setTimeout(()=>{socket.emit(\"test\",\"2\");setTimeout(()=>{socket.emit(\"test\",\"3\");setTimeout(()=>{socket.emit(\"test\",\"4\");setTimeout(()=>{socket.emit(\"test\",\"5\");},500);},500);},500);},500);},500);\r\n      })\r\n      .catch((error) => {\r\n        if (error?.response?.status === 401 ) removeUserSession();\r\n        setAuthLoading(false);\r\n        setAuth(false);\r\n      });\r\n      return () => {\r\n        // socket.disconnect({token: getToken()});\r\n      }\r\n  }, []);\r\n\r\n  if (authLoading && getToken()) {\r\n// return <div className=\"loadclass\"><span className=\"loader-11\"></span></div>;\r\nreturn <>\r\n<div className=\"loadclass-new\">\r\n  <div className=\"spinner-box\">\r\n<div className=\"configure-border-1\">  \r\n  <div className=\"configure-core\"></div>\r\n</div>  \r\n<div className=\"configure-border-2\">\r\n  <div className=\"configure-core\"></div>\r\n</div> \r\n</div>\r\n</div>\r\n</>;  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <BrowserRouter >\r\n        <div>\r\n          <Navbar  \r\n          auth={auth} \r\n          setAuth={setAuth}\r\n          setAuthLoading={setAuthLoading}\r\n          toggleDrawer={toggleDrawer}\r\n          //  soc={socket}\r\n           />\r\n          <Sidebar\r\n          isDrawerOpen={isDrawerOpen}\r\n          />\r\n          <div className=\"content\">\r\n            <Switch>\r\n              <PrivateRoute\r\n                exact path=\"/\"\r\n                component={Home}\r\n                setAuth={setAuth}\r\n                setAuthLoading={setAuthLoading}\r\n                // socket={socket}\r\n              />\r\n         \r\n              <PublicRoute\r\n                exact path=\"/\"\r\n                component={Login}\r\n              />\r\n              <PublicRoute\r\n                path=\"/login\"\r\n                component={Login}\r\n                setAuth={setAuth}\r\n                setAuthLoading={setAuthLoading}\r\n                // socket={socket}\r\n              />\r\n\r\n              <PrivateRoute\r\n                path=\"/editor\"\r\n                component={CodeEditor}\r\n                setAuth={setAuth}\r\n                setAuthLoading={setAuthLoading}\r\n                isDrawerOpen={isDrawerOpen}\r\n                // socket={socket}\r\n              />\r\n              \r\n              {/* <PrivateRoute\r\n                path=\"/admin\"\r\n                component={Admin}\r\n                setAuth={setAuth}\r\n                setAuthLoading={setAuthLoading}\r\n                // socket={socket}\r\n              /> */}\r\n\r\n            </Switch>\r\n          </div>\r\n        </div>\r\n      </BrowserRouter>     \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}